# Day 4: Space Invaders - å¤ªç©ºä¾µç•¥è€…

## éŠæˆ²æ¦‚è¿°
ç¶“å…¸çš„å¤ªç©ºä¾µç•¥è€…å°„æ“ŠéŠæˆ²ã€‚ç©å®¶æ§åˆ¶åº•éƒ¨çš„å¤ªç©ºèˆ¹ï¼Œå°„æ“Šå¾ä¸Šæ–¹é™ä¸‹çš„å¤–æ˜Ÿäººå…¥ä¾µè€…ã€‚

## éŠæˆ²æ©Ÿåˆ¶

### æ ¸å¿ƒç©æ³•
1. **ç©å®¶æ§åˆ¶**
   - â† â†’ éµï¼šå·¦å³ç§»å‹•å¤ªç©ºèˆ¹
   - ç©ºç™½éµï¼šç™¼å°„å­å½ˆ
   - qï¼šé€€å‡ºéŠæˆ²

2. **å¤–æ˜Ÿäººè¡Œç‚º**
   - ä¸€ç¾¤å¤–æ˜Ÿäººåœ¨è¢å¹•ä¸Šæ–¹æ’åˆ—ï¼ˆ5è¡Œ x 10åˆ—ï¼‰
   - æ•´é«”å·¦å³ç§»å‹•ï¼Œç¢°åˆ°é‚Šç•Œä¸‹é™ä¸€è¡Œ
   - éš¨æ©Ÿå‘ä¸‹ç™¼å°„å­å½ˆ
   - ç§»å‹•é€Ÿåº¦éš¨å‰©é¤˜æ•¸é‡æ¸›å°‘è€ŒåŠ å¿«

3. **æˆ°é¬¥ç³»çµ±**
   - ç©å®¶å­å½ˆæ“Šä¸­å¤–æ˜Ÿäººå¾—åˆ†
   - å¤–æ˜Ÿäººå­å½ˆæ“Šä¸­ç©å®¶å¤±å»ç”Ÿå‘½
   - ç©å®¶æœ‰ 3 æ¢ç”Ÿå‘½
   - å¤–æ˜Ÿäººåˆ°é”åº•éƒ¨ = éŠæˆ²çµæŸ

4. **æ©é«”ç³»çµ±**
   - åº•éƒ¨æœ‰ 4 å€‹æ©é«”
   - å¯è¢«é›™æ–¹å­å½ˆç ´å£
   - æä¾›æš«æ™‚ä¿è­·

5. **è¨ˆåˆ†ç³»çµ±**
   - é ‚è¡Œå¤–æ˜Ÿäººï¼š30 åˆ†
   - ä¸­é–“å…©è¡Œï¼š20 åˆ†
   - åº•éƒ¨å…©è¡Œï¼š10 åˆ†
   - ç´…è‰² UFOï¼ˆç¥ç§˜çå‹µï¼‰ï¼šéš¨æ©Ÿåˆ†æ•¸ 50-300

### é€²éšæ©Ÿåˆ¶
1. **ç¥ç§˜ UFO**
   - å¶çˆ¾å¾é ‚éƒ¨æ©«å‘é£›é
   - å°„ä¸­ç²å¾—é¡å¤–åˆ†æ•¸
   - æ›´é›£æ“Šä¸­

2. **é›£åº¦éå¢**
   - å¤–æ˜Ÿäººæ•¸é‡æ¸›å°‘ â†’ é€Ÿåº¦åŠ å¿«
   - å°„æ“Šé »ç‡å¢åŠ 

## æŠ€è¡“å¯¦ä½œ

### éŠæˆ²ç‰©ä»¶

```python
# ç©å®¶å¤ªç©ºèˆ¹
Player:
  - position: (x, y)
  - lives: 3
  - bullet: Bullet or None
  - shape: "â–²" or " ^ "

# å¤–æ˜Ÿäºº
Alien:
  - position: (x, y)
  - type: 1, 2, or 3 (ä¸åŒåˆ†æ•¸)
  - alive: bool
  - shapes: ["ğŸ‘¾", "ğŸ‘½", "ğŸ›¸"] or ASCII variants

# å­å½ˆ
Bullet:
  - position: (x, y)
  - direction: up (-1) or down (+1)
  - char: "|" or "!"

# æ©é«”
Shield:
  - position: (x, y)
  - health: 0-3 (é€æ¼¸ç ´æ)
  - shapes: ["â–“", "â–’", "â–‘", " "]

# UFO
UFO:
  - position: (x, y)
  - active: bool
  - direction: 1 or -1
  - shape: "ğŸ›¸" or "<-O->"
```

### éŠæˆ²ç‹€æ…‹

```python
GameState:
  - player: Player
  - aliens: List[List[Alien]]  # 5x10 grid
  - player_bullets: List[Bullet]
  - alien_bullets: List[Bullet]
  - shields: List[Shield]
  - ufo: UFO or None
  - score: int
  - level: int
  - alien_direction: 1 or -1  # left or right
  - alien_move_delay: float
  - game_over: bool
  - paused: bool
```

### æ¸²æŸ“è¨­è¨ˆ

```
éŠæˆ²ç•«é¢ä½ˆå±€ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCORE: 0000    LIVES: â¤â¤â¤    HI: 9999 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚              <-O-> UFO                  â”‚
â”‚                                         â”‚
â”‚    ğŸ‘¾ ğŸ‘¾ ğŸ‘¾ ğŸ‘¾ ğŸ‘¾ ğŸ‘¾ ğŸ‘¾ ğŸ‘¾ ğŸ‘¾ ğŸ‘¾        â”‚
â”‚    ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½        â”‚
â”‚    ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½ ğŸ‘½        â”‚
â”‚    ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸        â”‚
â”‚    ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸ ğŸ›¸        â”‚
â”‚                                         â”‚
â”‚            |                            â”‚
â”‚            !                            â”‚
â”‚                                         â”‚
â”‚    â–“â–“â–“     â–“â–“â–“     â–“â–“â–“     â–“â–“â–“        â”‚
â”‚    â–“â–“â–“     â–’â–’â–’     â–“â–“â–“     â–‘â–‘â–‘        â”‚
â”‚                                         â”‚
â”‚              â–²                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Controls: â† â†’ Move | SPACE Shoot | Q Quit
```

### ç•«é¢è¦æ ¼
- å¯¬åº¦ï¼š80 å­—å…ƒ
- é«˜åº¦ï¼š30 è¡Œ
- FPSï¼š30
- ä½¿ç”¨ curses æ¶ˆé™¤é–ƒçˆ

## ç‰©ç†èˆ‡é‚è¼¯

### ç§»å‹•é‚è¼¯
```python
# å¤–æ˜Ÿäººç¾¤ç§»å‹•
def move_aliens():
    # æª¢æŸ¥æ˜¯å¦ç¢°åˆ°é‚Šç•Œ
    if hit_edge():
        alien_direction *= -1
        move_aliens_down()
    else:
        move_aliens_horizontal()
    
    # é€Ÿåº¦éš¨å‰©é¤˜æ•¸é‡èª¿æ•´
    alive_count = count_alive_aliens()
    move_delay = base_delay * (alive_count / total_aliens)

# ç¢°æ’æª¢æ¸¬
def check_collisions():
    # ç©å®¶å­å½ˆ vs å¤–æ˜Ÿäºº
    for bullet in player_bullets:
        for alien in aliens:
            if collide(bullet, alien):
                alien.alive = False
                score += alien.points
                remove_bullet(bullet)
    
    # å¤–æ˜Ÿäººå­å½ˆ vs ç©å®¶
    for bullet in alien_bullets:
        if collide(bullet, player):
            player.lives -= 1
            remove_bullet(bullet)
            respawn_player()
    
    # å­å½ˆ vs æ©é«”
    for bullet in all_bullets:
        for shield in shields:
            if collide(bullet, shield):
                shield.health -= 1
                remove_bullet(bullet)
```

### AI è¡Œç‚º
```python
# å¤–æ˜Ÿäººå°„æ“Š AI
def alien_shoot():
    # åªæœ‰æœ€å‰é¢çš„å¤–æ˜Ÿäººå¯ä»¥å°„æ“Š
    front_aliens = get_frontline_aliens()
    
    # éš¨æ©Ÿé¸æ“‡ä¸€å€‹å°„æ“Š
    if random.random() < shoot_probability:
        shooter = random.choice(front_aliens)
        spawn_bullet(shooter.position, direction=DOWN)

# UFO å‡ºç¾
def spawn_ufo():
    if random.random() < ufo_probability:
        ufo.active = True
        ufo.position = (0 or width, ufo_y)
        ufo.direction = 1 or -1
```

## é–‹ç™¼æ­¥é©Ÿ

### Phase 1: åŸºç¤çµæ§‹
- [ ] å‰µå»º game_004_space_invaders.py
- [ ] è¨­å®š curses ç•«é¢
- [ ] å»ºç«‹åŸºæœ¬é¡åˆ¥çµæ§‹
- [ ] å¯¦ä½œéŠæˆ²ä¸»è¿´åœˆ

### Phase 2: ç©å®¶ç³»çµ±
- [ ] ç©å®¶å¤ªç©ºèˆ¹æ¸²æŸ“
- [ ] å·¦å³ç§»å‹•æ§åˆ¶
- [ ] ç™¼å°„å­å½ˆæ©Ÿåˆ¶
- [ ] ç”Ÿå‘½ç³»çµ±

### Phase 3: å¤–æ˜Ÿäººç³»çµ±
- [ ] å¤–æ˜Ÿäººé™£åˆ—åˆå§‹åŒ–
- [ ] ç¾¤é«”ç§»å‹•é‚è¼¯
- [ ] ç¢°æ’æª¢æ¸¬
- [ ] æ“Šæ®ºæ•ˆæœ

### Phase 4: æˆ°é¬¥ç³»çµ±
- [ ] é›™å‘å­å½ˆç³»çµ±
- [ ] ç¢°æ’åˆ¤å®š
- [ ] å¾—åˆ†ç³»çµ±
- [ ] éŠæˆ²çµæŸåˆ¤å®š

### Phase 5: é€²éšåŠŸèƒ½
- [ ] æ©é«”ç³»çµ±
- [ ] UFO ç¥ç§˜çå‹µ
- [ ] éŸ³æ•ˆï¼ˆbeepï¼‰
- [ ] é›£åº¦æ¼¸é€²

### Phase 6: å„ªåŒ–èˆ‡æ¸¬è©¦
- [ ] æ€§èƒ½å„ªåŒ–
- [ ] æ¶ˆé™¤é–ƒçˆ
- [ ] å¹³è¡¡èª¿æ•´
- [ ] éŒ¯èª¤è™•ç†

## æ¸¬è©¦æ¸…å–®

### åŠŸèƒ½æ¸¬è©¦
- [ ] ç©å®¶ç§»å‹•æµæš¢
- [ ] å­å½ˆç™¼å°„æ­£å¸¸
- [ ] å¤–æ˜Ÿäººç§»å‹•æ­£ç¢º
- [ ] ç¢°æ’æª¢æ¸¬æº–ç¢º
- [ ] è¨ˆåˆ†ç³»çµ±æ­£ç¢º
- [ ] ç”Ÿå‘½ç³»çµ±æ­£å¸¸
- [ ] éŠæˆ²çµæŸæ¢ä»¶æ­£ç¢º

### é«”é©—æ¸¬è©¦
- [ ] é›£åº¦é©ä¸­
- [ ] ç•«é¢æµæš¢ç„¡é–ƒçˆ
- [ ] æ§åˆ¶åæ‡‰éˆæ•
- [ ] éŸ³æ•ˆæç¤ºæ¸…æ¥š
- [ ] éŠæˆ²ç¯€å¥è‰¯å¥½

### é‚Šç•Œæ¸¬è©¦
- [ ] é‚Šç•Œç§»å‹•æ­£å¸¸
- [ ] å¤šå­å½ˆè™•ç†
- [ ] æ¥µé™é€Ÿåº¦ç©©å®š
- [ ] æ‰€æœ‰å¤–æ˜Ÿäººæ¶ˆæ»…å¾Œçš„è¡Œç‚º

## é æœŸæŒ‘æˆ°

1. **æ€§èƒ½å•é¡Œ**
   - å¤§é‡ç‰©é«”æ¸²æŸ“å¯èƒ½é€ æˆå»¶é²
   - è§£æ±ºï¼šå„ªåŒ–æ¸²æŸ“é‚è¼¯ï¼Œåªæ›´æ–°è®ŠåŒ–éƒ¨åˆ†

2. **ç¢°æ’æª¢æ¸¬**
   - å¤šå€‹ç‰©ä»¶é–“çš„ç¢°æ’è¨ˆç®—
   - è§£æ±ºï¼šä½¿ç”¨ç°¡å–®çš„çŸ©å½¢ç¢°æ’

3. **å¤–æ˜Ÿäººç§»å‹•åŒæ­¥**
   - ç¢ºä¿æ•´é«”ç§»å‹•ä¸€è‡´
   - è§£æ±ºï¼šä½¿ç”¨è¨ˆæ™‚å™¨æ§åˆ¶æ›´æ–°é »ç‡

4. **é›£åº¦å¹³è¡¡**
   - å¤ªç°¡å–®æˆ–å¤ªé›£
   - è§£æ±ºï¼šæ¸¬è©¦èª¿æ•´åƒæ•¸

## æˆåŠŸæ¨™æº–

- âœ… ç©å®¶æ§åˆ¶æµæš¢è‡ªç„¶
- âœ… å¤–æ˜Ÿäººè¡Œç‚ºç¬¦åˆç¶“å…¸éŠæˆ²
- âœ… ç¢°æ’æª¢æ¸¬æº–ç¢º
- âœ… ç•«é¢æµæš¢ 30 FPS
- âœ… éŠæˆ²é›£åº¦é©ä¸­ä¸”æ¼¸é€²
- âœ… ç„¡æ˜é¡¯ bug
- âœ… éŠæˆ²å¯æ­£å¸¸é–‹å§‹å’ŒçµæŸ

## æ™‚é–“é ä¼°
- è¦åŠƒï¼š30 åˆ†é˜ âœ…
- é–‹ç™¼ï¼š2-3 å°æ™‚
- æ¸¬è©¦ï¼š30 åˆ†é˜
- ç¸½è¨ˆï¼šç´„ 3-4 å°æ™‚

---
**å‰µå»ºæ—¥æœŸ**: 2025-12-05
**éŠæˆ²ç·¨è™Ÿ**: 004
**é›£åº¦è©•ä¼°**: â­â­â­â­ (4/5)
**é è¨ˆå®Œæˆæ™‚é–“**: 2025-12-05 æ™šä¸Š
